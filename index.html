<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MLPI Integration Redirect</title>
    <script>
        const params = new URLSearchParams(window.location.search);
        const data = params.get('data');

        if (data) {
            const protocolUrl = "mlpi://" + data;

            window.location.href = protocolUrl;

            setTimeout(() => {
                window.open('', '_self');
                window.close();
            }, 1000);
        } else {
            document.body.innerText = "No server data provided.";
        }
    </script>
</head>
<body>
    <p>If nothing happens automatically, click <a id="manualLink">here</a>.</p>
    <script>
        const manualLink = document.getElementById("manualLink");
        manualLink.href = "mlpi://" + (new URLSearchParams(window.location.search).get('data') || '');
    </script>
</body>
</html>
